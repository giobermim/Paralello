{"version":3,"sources":["turbopack:///[project]/app/actions/eventos.ts","turbopack:///[project]/app/agenda/perfil/actions.ts","turbopack:///[project]/app/actions/cronograma-personalizado.ts","turbopack:///[project]/.next-internal/server/app/agenda/cronograma/page/actions.js (server actions loader)"],"sourcesContent":["\"use server\"\n\nimport { createServiceRoleClient } from \"@/utils/supabase/server\"\nimport { revalidatePath } from \"next/cache\"\nimport { cookies } from \"next/headers\"\n\nasync function getUserId() {\n  const cookieStore = await cookies()\n  const bypassUser = cookieStore.get(\"bypass_user\")\n\n  if (bypassUser) {\n    return null\n  } else {\n    const supabase = await createServiceRoleClient()\n    const {\n      data: { user },\n    } = await supabase.auth.getUser()\n    return user?.id || null\n  }\n}\n\nexport async function getEventos() {\n  const userId = await getUserId()\n  const supabase = await createServiceRoleClient()\n\n  let query = supabase.from(\"evento\").select(\"*\").order(\"evento_data\", { ascending: true })\n\n  if (userId === null) {\n    query = query.is(\"usuario_id\", null)\n  } else {\n    query = query.eq(\"usuario_id\", userId)\n  }\n\n  const [{ data: eventos, error: eventosError }, { data: allTags }] = await Promise.all([\n    query,\n    supabase.from(\"tag\").select(\"*\"),\n  ])\n\n  if (eventosError) return { error: eventosError.message }\n\n  const eventoIds = eventos?.map((e) => e.evento_id) || []\n\n  console.log(\"[v0] Eventos encontrados:\", eventoIds.length)\n\n  const { data: tagRelations, error: tagRelationsError } = await supabase\n    .from(\"tag_has_evento\")\n    .select(\"*\")\n    .in(\"evento_id\", eventoIds)\n\n  console.log(\"[v0] Tag relations encontradas:\", tagRelations?.length || 0, tagRelationsError?.message || \"\")\n\n  const tagRelationsMap = new Map<string, number[]>()\n  tagRelations?.forEach((rel) => {\n    const eventId = String(rel.evento_id)\n    if (!tagRelationsMap.has(eventId)) {\n      tagRelationsMap.set(eventId, [])\n    }\n    tagRelationsMap.get(eventId)!.push(rel.tag_id)\n  })\n\n  const tagsMap = new Map(allTags?.map((tag) => [tag.tag_id, tag]))\n\n  const eventosWithTags = (eventos || []).map((evento) => {\n    const tagIds = tagRelationsMap.get(String(evento.evento_id)) || []\n    const tags = tagIds.map((id) => tagsMap.get(id)).filter(Boolean)\n    console.log(\"[v0] Evento\", evento.evento_id, \"tags:\", tags.length)\n    return { ...evento, tags }\n  })\n\n  return { data: eventosWithTags }\n}\n\nexport async function createEvento(formData: FormData) {\n  const userId = await getUserId()\n  const supabase = await createServiceRoleClient()\n\n  const titulo = formData.get(\"titulo\") as string\n  const descricao = formData.get(\"descricao\") as string\n  const data = formData.get(\"data\") as string\n  const notificacao = formData.get(\"notificacao\") === \"true\"\n  const selectedTagIds = formData.get(\"tag_ids\") as string\n\n  const { data: eventoData, error } = await supabase\n    .from(\"evento\")\n    .insert({\n      evento_titulo: titulo,\n      evento_descricao: descricao,\n      evento_data: data,\n      evento_notificacao: notificacao,\n      usuario_id: userId,\n    })\n    .select()\n    .single()\n\n  if (error) return { error: error.message }\n\n  if (selectedTagIds) {\n    const tagIds = selectedTagIds.split(\",\").filter(Boolean)\n    const tagRelations = tagIds.map((tagId) => ({\n      evento_id: eventoData.evento_id,\n      tag_id: Number.parseInt(tagId),\n    }))\n\n    const { error: tagError } = await supabase.from(\"tag_has_evento\").insert(tagRelations)\n    if (tagError) console.error(\"Error adding tags:\", tagError)\n  }\n\n  revalidatePath(\"/agenda/calendario\")\n  return { success: true, data: eventoData }\n}\n\nexport async function updateEvento(id: string, formData: FormData) {\n  const userId = await getUserId()\n  const supabase = await createServiceRoleClient()\n\n  const titulo = formData.get(\"titulo\") as string\n  const descricao = formData.get(\"descricao\") as string\n  const data = formData.get(\"data\") as string\n  const notificacao = formData.get(\"notificacao\") === \"true\"\n  const selectedTagIds = formData.get(\"tag_ids\") as string\n\n  let query = supabase\n    .from(\"evento\")\n    .update({\n      evento_titulo: titulo,\n      evento_descricao: descricao,\n      evento_data: data,\n      evento_notificacao: notificacao,\n    })\n    .eq(\"evento_id\", id)\n\n  if (userId === null) {\n    query = query.is(\"usuario_id\", null)\n  } else {\n    query = query.eq(\"usuario_id\", userId)\n  }\n\n  const { error } = await query\n\n  if (error) return { error: error.message }\n\n  await supabase.from(\"tag_has_evento\").delete().eq(\"evento_id\", Number.parseInt(id))\n\n  if (selectedTagIds) {\n    const tagIds = selectedTagIds.split(\",\").filter(Boolean)\n    const tagRelations = tagIds.map((tagId) => ({\n      evento_id: Number.parseInt(id),\n      tag_id: Number.parseInt(tagId),\n    }))\n\n    await supabase.from(\"tag_has_evento\").insert(tagRelations)\n  }\n\n  revalidatePath(\"/agenda/calendario\")\n  return { success: true }\n}\n\nexport async function deleteEvento(id: string) {\n  const userId = await getUserId()\n  const supabase = await createServiceRoleClient()\n\n  await Promise.all([\n    supabase.from(\"tag_has_evento\").delete().eq(\"evento_id\", Number.parseInt(id)),\n    (async () => {\n      let query = supabase.from(\"evento\").delete().eq(\"evento_id\", id)\n      if (userId === null) {\n        query = query.is(\"usuario_id\", null)\n      } else {\n        query = query.eq(\"usuario_id\", userId)\n      }\n      return query\n    })(),\n  ])\n\n  revalidatePath(\"/agenda/calendario\")\n  return { success: true }\n}\n\nexport async function getTodayNotifications() {\n  const userId = await getUserId()\n  const supabase = await createServiceRoleClient()\n\n  const today = new Date().toISOString().split(\"T\")[0]\n\n  let query = supabase\n    .from(\"evento\")\n    .select(\"*\")\n    .eq(\"evento_data\", today)\n    .eq(\"evento_notificacao\", true)\n    .order(\"evento_titulo\", { ascending: true })\n\n  if (userId === null) {\n    query = query.is(\"usuario_id\", null)\n  } else {\n    query = query.eq(\"usuario_id\", userId)\n  }\n\n  const [{ data: eventos, error }, { data: allTags }] = await Promise.all([query, supabase.from(\"tag\").select(\"*\")])\n\n  if (error) return { error: error.message }\n\n  const eventoIds = eventos?.map((e) => e.evento_id) || []\n  const { data: tagRelations } = await supabase.from(\"tag_has_evento\").select(\"*\").in(\"evento_id\", eventoIds)\n\n  const tagRelationsMap = new Map<string, number[]>()\n  tagRelations?.forEach((rel) => {\n    const eventId = String(rel.evento_id)\n    if (!tagRelationsMap.has(eventId)) {\n      tagRelationsMap.set(eventId, [])\n    }\n    tagRelationsMap.get(eventId)!.push(rel.tag_id)\n  })\n\n  const tagsMap = new Map(allTags?.map((tag) => [tag.tag_id, tag]))\n\n  const notificationsWithTags = (eventos || []).map((evento) => {\n    const tagIds = tagRelationsMap.get(String(evento.evento_id)) || []\n    const tags = tagIds.map((id) => tagsMap.get(id)).filter(Boolean)\n    return { ...evento, tags }\n  })\n\n  return { data: notificationsWithTags }\n}\n","\"use server\"\n\nimport { createServerClient } from \"@/utils/supabase/server\"\nimport { cookies } from \"next/headers\"\n\nconst BYPASS_USER_ID = \"00000000-0000-0000-0000-000000000000\"\n\nasync function getUserId() {\n  const cookieStore = await cookies()\n  const bypassCookie = cookieStore.get(\"bypass_user\")\n\n  if (bypassCookie) {\n    return BYPASS_USER_ID\n  }\n\n  const supabase = await createServerClient()\n  const {\n    data: { user },\n  } = await supabase.auth.getUser()\n\n  return user?.id || null\n}\n\nexport async function getProfile() {\n  try {\n    const userId = await getUserId()\n\n    if (!userId) {\n      return { success: false, error: \"Usuário não autenticado\" }\n    }\n\n    const supabase = await createServerClient()\n\n    const { data, error } = await supabase.from(\"perfil_usuario\").select(\"*\").eq(\"usuario_id\", userId).maybeSingle()\n\n    if (error) {\n      console.error(\"Erro ao buscar perfil:\", error)\n      return { success: false, error: error.message }\n    }\n\n    return { success: true, data }\n  } catch (error) {\n    console.error(\"Erro ao buscar perfil:\", error)\n    return { success: false, error: \"Erro ao buscar perfil\" }\n  }\n}\n\nexport async function saveProfile(nome: string, foto: string | null) {\n  try {\n    const userId = await getUserId()\n\n    if (!userId) {\n      return { success: false, error: \"Usuário não autenticado\" }\n    }\n\n    const supabase = await createServerClient()\n\n    // Verificar se já existe um perfil\n    const { data: existingProfile } = await supabase\n      .from(\"perfil_usuario\")\n      .select(\"perfil_id\")\n      .eq(\"usuario_id\", userId)\n      .maybeSingle()\n\n    if (existingProfile) {\n      // Atualizar perfil existente\n      const { error } = await supabase\n        .from(\"perfil_usuario\")\n        .update({\n          perfil_nome: nome,\n          perfil_foto: foto,\n          updated_at: new Date().toISOString(),\n        })\n        .eq(\"usuario_id\", userId)\n\n      if (error) {\n        console.error(\"Erro ao atualizar perfil:\", error)\n        return { success: false, error: error.message }\n      }\n    } else {\n      // Inserir novo perfil\n      const { error } = await supabase.from(\"perfil_usuario\").insert({\n        usuario_id: userId,\n        perfil_nome: nome,\n        perfil_foto: foto,\n      })\n\n      if (error) {\n        console.error(\"Erro ao criar perfil:\", error)\n        return { success: false, error: error.message }\n      }\n    }\n\n    return { success: true }\n  } catch (error) {\n    console.error(\"Erro ao salvar perfil:\", error)\n    return { success: false, error: \"Erro ao salvar perfil\" }\n  }\n}\n","\"use server\"\n\nimport { createServiceRoleClient, createServerClient } from \"@/utils/supabase/server\"\nimport { revalidatePath } from \"next/cache\"\nimport { cookies } from \"next/headers\"\n\n// Mapeamento de disciplinas para seus IDs\nconst DISCIPLINA_MAP: Record<string, number> = {\n  \"Língua Portuguesa\": 1,\n  Literatura: 2,\n  Redação: 3,\n  \"Língua Estrangeira\": 4,\n  Matemática: 5,\n  Física: 6,\n  Química: 7,\n  Biologia: 8,\n  História: 9,\n  Geografia: 10,\n  Sociologia: 11,\n  Filosofia: 12,\n  Pausa: 13,\n}\n\n// Mapeamento de horários para hora_inicio e hora_fim\nconst HORARIO_MAP: Record<string, { inicio: string; fim: string }> = {\n  \"7 AM\": { inicio: \"07:00:00\", fim: \"08:00:00\" },\n  \"8 AM\": { inicio: \"08:00:00\", fim: \"09:00:00\" },\n  \"9 AM\": { inicio: \"09:00:00\", fim: \"10:00:00\" },\n  \"10 AM\": { inicio: \"10:00:00\", fim: \"11:00:00\" },\n  \"11 AM\": { inicio: \"11:00:00\", fim: \"12:00:00\" },\n  \"12 PM\": { inicio: \"12:00:00\", fim: \"13:00:00\" },\n  \"1 PM\": { inicio: \"13:00:00\", fim: \"14:00:00\" },\n  \"2 PM\": { inicio: \"14:00:00\", fim: \"15:00:00\" },\n  \"3 PM\": { inicio: \"15:00:00\", fim: \"16:00:00\" },\n  \"4 PM\": { inicio: \"16:00:00\", fim: \"17:00:00\" },\n  \"5 PM\": { inicio: \"17:00:00\", fim: \"18:00:00\" },\n}\n\n// Mapeamento de dias da semana para números (0 = Domingo, 6 = Sábado)\nconst DIA_MAP: Record<string, number> = {\n  Dom: 0,\n  Seg: 1,\n  Ter: 2,\n  Qua: 3,\n  Qui: 4,\n  Sex: 5,\n  Sáb: 6,\n}\n\nasync function getUserId() {\n  const cookieStore = await cookies()\n  const bypassUser = cookieStore.get(\"bypass_user\")\n  const supabase = await createServiceRoleClient()\n\n  // Se existe bypass cookie, buscar o usuário pelo email no Supabase Auth\n  if (bypassUser?.value) {\n    console.log(\"[v0] Bypass user encontrado:\", bypassUser.value)\n\n    // Buscar o usuário no Supabase Auth pelo email\n    const {\n      data: { users },\n      error,\n    } = await supabase.auth.admin.listUsers()\n\n    if (error) {\n      console.log(\"[v0] Erro ao buscar usuários:\", error.message)\n      return null\n    }\n\n    const user = users.find((u) => u.email === bypassUser.value)\n    if (user) {\n      console.log(\"[v0] Usuário encontrado pelo bypass:\", user.id)\n      return user.id\n    }\n\n    console.log(\"[v0] Usuário não encontrado pelo email:\", bypassUser.value)\n    return null\n  }\n\n  // Tentar obter usuário autenticado normalmente\n  const serverSupabase = await createServerClient()\n  const {\n    data: { user },\n  } = await serverSupabase.auth.getUser()\n  console.log(\"[v0] getUserId - user:\", user?.id, user?.email)\n  return user?.id || null\n}\n\nexport async function saveCronogramaPersonalizado(data: {\n  titulo: string\n  schedule: Record<string, Record<string, string | null>>\n}) {\n  const userId = await getUserId()\n  // Usar service role para inserir no banco (ignora RLS)\n  const supabase = await createServiceRoleClient()\n\n  console.log(\"[v0] Salvando cronograma para userId:\", userId)\n\n  if (!userId) {\n    console.log(\"[v0] Usuário não autenticado!\")\n    return { error: \"Usuário não autenticado. Faça login para salvar cronogramas.\" }\n  }\n\n  const { data: cronograma, error: cronogramaError } = await supabase\n    .from(\"cronograma\")\n    .insert({\n      cronograma_titulo: data.titulo,\n      usuario_id: userId,\n    })\n    .select()\n    .single()\n\n  if (cronogramaError) {\n    console.log(\"[v0] Erro ao inserir cronograma:\", cronogramaError.message)\n    return { error: cronogramaError.message }\n  }\n\n  console.log(\"[v0] Cronograma inserido com sucesso:\", cronograma.cronograma_id)\n\n  const slots = []\n  for (const [dia, horarios] of Object.entries(data.schedule)) {\n    for (const [horario, disciplina] of Object.entries(horarios)) {\n      if (disciplina) {\n        const diaNumero = DIA_MAP[dia]\n        const horarioInfo = HORARIO_MAP[horario]\n        const disciplinaId = DISCIPLINA_MAP[disciplina]\n\n        if (diaNumero !== undefined && horarioInfo && disciplinaId) {\n          slots.push({\n            cronograma_id: cronograma.cronograma_id,\n            slots_dia: diaNumero,\n            slots_hora_inicio: horarioInfo.inicio,\n            slots_hora_fim: horarioInfo.fim,\n            disciplina_id: disciplinaId,\n          })\n        }\n      }\n    }\n  }\n\n  console.log(\"[v0] Inserindo\", slots.length, \"slots\")\n\n  if (slots.length > 0) {\n    const { error: slotsError } = await supabase.from(\"slots\").insert(slots)\n\n    if (slotsError) {\n      console.log(\"[v0] Erro ao inserir slots:\", slotsError.message)\n      await supabase.from(\"cronograma\").delete().eq(\"cronograma_id\", cronograma.cronograma_id)\n      return { error: slotsError.message }\n    }\n  }\n\n  console.log(\"[v0] Cronograma salvo com sucesso!\")\n  revalidatePath(\"/agenda/cronograma\")\n  return { success: true, cronogramaId: cronograma.cronograma_id }\n}\n\nexport async function getCronogramasPersonalizados() {\n  const userId = await getUserId()\n  const supabase = await createServiceRoleClient()\n\n  console.log(\"[v0] Buscando cronogramas para userId:\", userId)\n\n  let query = supabase.from(\"cronograma\").select(`\n      cronograma_id,\n      cronograma_titulo,\n      slots (\n        slots_id,\n        slots_dia,\n        slots_hora_inicio,\n        slots_hora_fim,\n        disciplina (\n          disciplina_id,\n          disciplina_nome,\n          disciplina_cor\n        )\n      )\n    `)\n\n  if (userId === null) {\n    query = query.is(\"usuario_id\", null)\n  } else {\n    query = query.eq(\"usuario_id\", userId)\n  }\n\n  const { data, error } = await query\n\n  if (error) {\n    console.log(\"[v0] Erro ao buscar cronogramas:\", error.message)\n    return { error: error.message }\n  }\n\n  console.log(\"[v0] Cronogramas encontrados:\", data?.length)\n  return { data }\n}\n\nexport async function deleteCronogramaPersonalizado(cronogramaId: number) {\n  const supabase = await createServiceRoleClient()\n\n  await supabase.from(\"slots\").delete().eq(\"cronograma_id\", cronogramaId)\n\n  const { error } = await supabase.from(\"cronograma\").delete().eq(\"cronograma_id\", cronogramaId)\n\n  if (error) {\n    return { error: error.message }\n  }\n\n  revalidatePath(\"/agenda/cronograma\")\n  return { success: true }\n}\n","export {saveCronogramaPersonalizado as '4095dbef3e023288f92b9c8ecca97819bafe820fbc'} from 'ACTIONS_MODULE0'\nexport {getCronogramasPersonalizados as '007f22f9436701f7fd6860f9b884e19b8bb128b70b'} from 'ACTIONS_MODULE0'\nexport {deleteCronogramaPersonalizado as '40731975c44792de8684220a87093a00679ae61c85'} from 'ACTIONS_MODULE0'\nexport {signout as '00a5c73d01448a448cafbf314f2103bda7312fd5f7'} from 'ACTIONS_MODULE1'\nexport {getProfile as '001eee0ea2e32480cb65d838a8d69f2bc0ee4cb26f'} from 'ACTIONS_MODULE2'\nexport {saveProfile as '605ad3937fcec750aa54a721f03bd83763ab184165'} from 'ACTIONS_MODULE2'\nexport {getTodayNotifications as '004848681f943a2fa6a735a7603fa78aeb2eff524a'} from 'ACTIONS_MODULE3'\n"],"names":[],"mappings":"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"}