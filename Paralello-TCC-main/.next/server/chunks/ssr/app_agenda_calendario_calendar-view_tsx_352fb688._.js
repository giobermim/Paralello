module.exports=[3232,a=>{"use strict";var b=a.i(87924),c=a.i(344),d=a.i(40695),e=a.i(70106);let f=(0,e.default)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);var g=a.i(50522),h=a.i(15618),i=a.i(81560),j=a.i(72131),k=a.i(65733),l=a.i(5522),m=a.i(17171),n=a.i(46893),o=a.i(80281),p=a.i(70246),q=a.i(96221),r=a.i(41675),s=a.i(23312);let t=(0,e.default)("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);var u=a.i(50944);function v({event:a,open:c,onOpenChange:e,onSave:f,onDelete:g,availableTags:h}){let[v,w]=(0,j.useState)(!1),[x,y]=(0,j.useState)(!1),[z,A]=(0,j.useState)(""),[B,C]=(0,j.useState)(""),[D,E]=(0,j.useState)(""),[F,G]=(0,j.useState)(!1),[H,I]=(0,j.useState)(null),[J,K]=(0,j.useState)(!1),{toast:L}=(0,p.useToast)(),M=(0,u.useRouter)(),N=["Inscrição","Simulados","Aula de Revisão","Palestra","Day OFF","Redação"],O=h.filter(a=>N.includes(a.tag_nome)),P=h.filter(a=>!N.includes(a.tag_nome));(0,j.useEffect)(()=>{a?(A(a.evento_titulo),C(a.evento_descricao),E(a.evento_data),G(a.evento_notificacao),I(a.tags&&a.tags.length>0?a.tags[0].tag_id:null),y(!1)):(Q(),y(!0))},[a,c]);let Q=()=>{A(""),C(""),E(new Date().toISOString().split("T")[0]),G(!1),I(null),K(!1)},R=(0,j.useCallback)(a=>{I(b=>b===a?null:a)},[]),S=(0,j.useCallback)(async()=>{if(v)return;if(!z||!D)return void L({title:"Erro",description:"Título e data são obrigatórios",variant:"destructive"});w(!0);let b=new FormData;a?.evento_id&&b.append("evento_id",a.evento_id),b.append("titulo",z),b.append("descricao",B),b.append("data",D),b.append("notificacao",String(F)),b.append("tag_ids",H?String(H):"");try{await f(b),L({title:"Sucesso",description:a?"Evento atualizado com sucesso":"Evento criado com sucesso"}),Q(),e(),M.refresh()}catch(a){console.error("[v0] Error saving event:",a),L({title:"Erro",description:"Erro ao salvar evento",variant:"destructive"})}finally{w(!1)}},[z,D,B,F,H,a,L,e,M,f,v]),T=(0,j.useCallback)(async()=>{if(a){w(!0);try{await g(a.evento_id),L({title:"Sucesso",description:"Evento removido com sucesso"}),e(),M.refresh()}catch(a){L({title:"Erro",description:"Erro ao remover evento",variant:"destructive"})}finally{w(!1)}}},[a,L,e,M,g]);if(a&&!x){let f=a.tags&&a.tags.length>0?a.tags[0]:null;return(0,b.jsx)(k.Dialog,{open:c,onOpenChange:e,children:(0,b.jsx)(k.DialogContent,{className:"max-w-md max-h-[85vh] overflow-y-auto",children:(0,b.jsxs)("div",{className:"space-y-6 py-4",children:[(0,b.jsx)("div",{className:"flex items-center justify-between",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center",children:(0,b.jsx)(r.Calendar,{className:"h-5 w-5 text-primary"})}),(0,b.jsx)("h2",{className:"text-2xl font-bold",children:"Detalhes do Evento"})]})}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(m.Label,{className:"text-muted-foreground text-sm",children:"Título"}),(0,b.jsx)("p",{className:"text-lg font-semibold",children:a.evento_titulo})]}),a.evento_descricao&&(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(m.Label,{className:"text-muted-foreground text-sm",children:"Descrição"}),(0,b.jsx)("p",{className:"text-base text-foreground whitespace-pre-wrap",children:a.evento_descricao})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(m.Label,{className:"text-muted-foreground text-sm",children:"Data"}),(0,b.jsx)("p",{className:"text-base",children:new Date(a.evento_data+"T00:00:00").toLocaleDateString("pt-BR",{day:"2-digit",month:"long",year:"numeric"})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(m.Label,{className:"text-muted-foreground text-sm",children:"Tag"}),f?(0,b.jsx)("span",{className:"inline-block px-3 py-1.5 rounded-full text-sm font-medium text-white shadow-sm",style:{backgroundColor:f.tag_cor},children:f.tag_nome}):(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Nenhuma tag selecionada"})]}),a.evento_notificacao&&(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,b.jsx)(s.Bell,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:"Notificação ativada"})]})]}),J?(0,b.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("div",{className:"h-8 w-8 bg-red-100 rounded-full flex items-center justify-center flex-shrink-0",children:(0,b.jsx)(i.Trash2,{className:"h-4 w-4 text-red-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold",children:"Deletar Evento?"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Você tem certeza que quer deletar este evento?"})]})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)(d.Button,{variant:"outline",onClick:()=>K(!1),className:"flex-1",children:"Cancelar"}),(0,b.jsxs)(d.Button,{variant:"destructive",onClick:T,disabled:v,className:"flex-1",children:[v?(0,b.jsx)(q.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Deletar"]})]})]}):(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)(d.Button,{variant:"outline",className:"flex-1 bg-transparent",onClick:e,children:"Fechar"}),(0,b.jsxs)(d.Button,{className:"flex-1 bg-primary",onClick:()=>y(!0),children:[(0,b.jsx)(t,{className:"mr-2 h-4 w-4"}),"Editar"]}),(0,b.jsx)(d.Button,{variant:"ghost",size:"icon",className:"text-red-500 hover:text-red-600 hover:bg-red-50",onClick:()=>K(!0),children:(0,b.jsx)(i.Trash2,{className:"h-4 w-4"})})]})]})})})}return(0,b.jsx)(k.Dialog,{open:c,onOpenChange:e,children:(0,b.jsx)(k.DialogContent,{className:"max-w-md max-h-[85vh] overflow-y-auto",children:(0,b.jsxs)("div",{className:"space-y-6 py-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center",children:(0,b.jsx)(r.Calendar,{className:"h-5 w-5 text-primary"})}),(0,b.jsx)("h2",{className:"text-2xl font-bold",children:a?"Editar Evento":"Novo Evento"})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(m.Label,{children:["Título",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)(l.Input,{value:z,onChange:a=>A(a.target.value),placeholder:"Nome do evento"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(m.Label,{children:"Descrição"}),(0,b.jsx)(n.Textarea,{value:B,onChange:a=>C(a.target.value),placeholder:"Adicione detalhes sobre o evento...",className:"min-h-[80px]"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(m.Label,{children:["Data",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)(l.Input,{type:"date",value:D,onChange:a=>E(a.target.value)})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(m.Label,{children:"Tag (Selecione uma)"}),O.length>0&&(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Tags Predefinidas"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2 p-3 border rounded-lg bg-background",children:O.map(a=>(0,b.jsx)("button",{type:"button",onClick:()=>R(a.tag_id),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-all ${H===a.tag_id?"text-white shadow-md ring-2 ring-offset-2":"bg-muted text-muted-foreground hover:bg-muted/80"}`,style:H===a.tag_id?{backgroundColor:a.tag_cor}:{},children:a.tag_nome},a.tag_id))})]}),P.length>0&&(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Minhas Tags"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2 p-3 border rounded-lg bg-background",children:P.map(a=>(0,b.jsx)("button",{type:"button",onClick:()=>R(a.tag_id),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-all ${H===a.tag_id?"text-white shadow-md ring-2 ring-offset-2":"bg-muted text-muted-foreground hover:bg-muted/80"}`,style:H===a.tag_id?{backgroundColor:a.tag_cor}:{},children:a.tag_nome},a.tag_id))})]}),0===P.length&&0===O.length&&(0,b.jsx)("p",{className:"text-sm text-muted-foreground p-3 border rounded-lg bg-muted/50",children:"Nenhuma tag disponível. Crie novas tags para organizar seus eventos."})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 bg-muted/50 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(s.Bell,{className:"h-4 w-4 text-muted-foreground"}),(0,b.jsx)(m.Label,{className:"cursor-pointer",children:"Notificação"})]}),(0,b.jsx)(o.Switch,{checked:F,onCheckedChange:G})]})]}),J?(0,b.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("div",{className:"h-8 w-8 bg-red-100 rounded-full flex items-center justify-center flex-shrink-0",children:(0,b.jsx)(i.Trash2,{className:"h-4 w-4 text-red-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold",children:"Deletar Evento?"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Você tem certeza que quer deletar este evento?"})]})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)(d.Button,{variant:"outline",onClick:()=>K(!1),className:"flex-1",children:"Cancelar"}),(0,b.jsxs)(d.Button,{variant:"destructive",onClick:T,disabled:v,className:"flex-1",children:[v?(0,b.jsx)(q.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Deletar"]})]})]}):(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)(d.Button,{variant:"outline",className:"flex-1 bg-transparent",onClick:()=>{a?y(!1):e()},children:a?"Voltar":"Cancelar"}),(0,b.jsxs)(d.Button,{className:"flex-1 bg-primary",onClick:S,disabled:v,children:[v?(0,b.jsx)(q.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Salvar"]}),a&&(0,b.jsx)(d.Button,{variant:"ghost",size:"icon",className:"text-red-500 hover:text-red-600 hover:bg-red-50",onClick:()=>K(!0),children:(0,b.jsx)(i.Trash2,{className:"h-4 w-4"})})]})]})})})}var w=a.i(5050),x=(0,w.createServerReference)("40985ea644f05616cac54c1155778d45be44264a78",w.callServer,void 0,w.findSourceMapURL,"createCustomTag"),y=(0,w.createServerReference)("60cf12ea222469e137189d611583c62846e2c33c18",w.callServer,void 0,w.findSourceMapURL,"updateCustomTag"),z=(0,w.createServerReference)("40d19159d2632402f9b59599a96824ce798873999b",w.callServer,void 0,w.findSourceMapURL,"deleteCustomTag"),A=(0,w.createServerReference)("006b64897db3133c369c21a89f69a18c7a8673aeef",w.callServer,void 0,w.findSourceMapURL,"getAllTags");let B=(0,e.default)("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);function C({isOpen:a,onClose:c}){let[e,f]=(0,j.useState)(!1),[g,n]=(0,j.useState)(""),[o,r]=(0,j.useState)("#FF6B6B"),[s,t]=(0,j.useState)(null),{toast:v}=(0,p.useToast)(),[w,C]=(0,j.useState)([]),D=(0,u.useRouter)();(0,j.useEffect)(()=>{!async function(){if(a)try{let a=await A();if(a.data){let b=a.data;C(b.slice(6))}}catch(a){console.error("Erro ao carregar tags:",a)}}()},[a]);let E=(0,j.useCallback)(async()=>{if(!g.trim())return void v({title:"Erro",description:"Nome da tag é obrigatório",variant:"destructive"});f(!0);let a=new FormData;a.append("nome",g),a.append("cor",o);try{let b;if((b=s?await y(s.id,a):await x(a)).error)throw Error(b.error);v({title:"Sucesso",description:s?"Tag atualizada com sucesso":"Tag criada com sucesso"}),n(""),r("#FF6B6B"),t(null),D.refresh()}catch(a){v({title:"Erro",description:"Erro ao salvar tag",variant:"destructive"})}finally{f(!1)}},[g,o,s,v,D]),F=(0,j.useCallback)(a=>{t(a),n(a.nome),r(a.cor)},[]),G=(0,j.useCallback)(async a=>{f(!0);try{let b=await z(String(a));if(b.error)throw Error(b.error);v({title:"Sucesso",description:"Tag removida com sucesso"}),D.refresh()}catch(a){v({title:"Erro",description:"Erro ao remover tag",variant:"destructive"})}finally{f(!1)}},[v,D]),H=(0,j.useCallback)(()=>{n(""),r("#FF6B6B"),t(null)},[]);return(0,b.jsx)(k.Dialog,{open:a,onOpenChange:a=>{a||H(),c()},children:(0,b.jsx)(k.DialogContent,{className:"max-w-md",children:(0,b.jsxs)("div",{className:"space-y-6 py-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center",children:(0,b.jsx)(B,{className:"h-5 w-5 text-primary"})}),(0,b.jsx)("h2",{className:"text-2xl font-bold",children:"Gerenciar Tags Personalizadas"})]}),(0,b.jsxs)("div",{className:"space-y-4 p-4 bg-muted/30 rounded-lg",children:[(0,b.jsx)("h3",{className:"font-semibold text-sm",children:s?"Editar Tag":"Criar Nova Tag"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(m.Label,{children:"Nome da Tag"}),(0,b.jsx)(l.Input,{value:g,onChange:a=>n(a.target.value),placeholder:"Ex: Prova, Trabalho..."})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(m.Label,{children:"Escolha uma Cor"}),(0,b.jsx)("div",{className:"grid grid-cols-5 gap-2",children:["#FF6B6B","#4ECDC4","#FFD93D","#6C5CE7","#95E1D3","#F38181","#AA96DA","#FCBAD3","#FFFFD2","#A8E6CF"].map(a=>(0,b.jsx)("button",{className:`h-10 w-10 rounded-full border-2 ${o===a?"border-foreground scale-110":"border-transparent"} transition-all`,style:{backgroundColor:a},onClick:()=>r(a)},a))})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[s&&(0,b.jsx)(d.Button,{variant:"outline",onClick:H,className:"flex-1 bg-transparent",children:"Cancelar"}),(0,b.jsxs)(d.Button,{onClick:E,disabled:e,className:"flex-1",children:[e?(0,b.jsx)(q.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}):null,s?"Salvar":(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(h.Plus,{className:"mr-2 h-4 w-4"}),"Criar Tag"]})]})]})]}),w.length>0&&(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("h3",{className:"font-semibold text-sm",children:"Suas Tags"}),(0,b.jsx)("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:w.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg border hover:bg-accent/5",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"h-6 w-6 rounded-full",style:{backgroundColor:a.tag_cor}}),(0,b.jsx)("span",{className:"font-medium",children:a.tag_nome})]}),(0,b.jsxs)("div",{className:"flex gap-1",children:[(0,b.jsx)(d.Button,{variant:"ghost",size:"sm",onClick:()=>F({id:String(a.tag_id),nome:a.tag_nome,cor:a.tag_cor}),children:"Editar"}),(0,b.jsx)(d.Button,{variant:"ghost",size:"sm",className:"text-red-500 hover:text-red-600",onClick:()=>G(a.tag_id),disabled:e,children:(0,b.jsx)(i.Trash2,{className:"h-4 w-4"})})]})]},a.tag_id))})]})]})})})}var D=(0,w.createServerReference)("40f6ad126f174a86dd081f1986bf5166b4aec8fe18",w.callServer,void 0,w.findSourceMapURL,"createEvento"),E=(0,w.createServerReference)("60c6cd1767d79d6703e220f89d796da5fca0e1adae",w.callServer,void 0,w.findSourceMapURL,"updateEvento"),F=(0,w.createServerReference)("4005ef675c21e61f593e536aed03f7e1aa4b652fbb",w.callServer,void 0,w.findSourceMapURL,"deleteEvento"),G=a.i(23292);function H({initialEventos:a,availableTags:e}){let[k,l]=(0,j.useState)(new Date),[m,n]=(0,j.useState)(!1),[o,p]=(0,j.useState)(!1),[q,r]=(0,j.useState)(null),[s,t]=(0,j.useState)(null),w=(0,u.useRouter)(),x=(0,j.useMemo)(()=>(a=>{let b=a.getFullYear(),c=a.getMonth(),d=new Date(b,c,1).getDay(),e=new Date(b,c+1,0).getDate(),f=new Date(b,c,0).getDate(),g=[];for(let a=d-1;a>=0;a--)g.push({date:f-a,isCurrentMonth:!1,fullDate:new Date(b,c-1,f-a)});for(let a=1;a<=e;a++)g.push({date:a,isCurrentMonth:!0,fullDate:new Date(b,c,a)});let h=42-g.length;for(let a=1;a<=h;a++)g.push({date:a,isCurrentMonth:!1,fullDate:new Date(b,c+1,a)});return g})(k),[k]),y=(0,j.useMemo)(()=>{let b=new Map;return a.forEach(a=>{b.has(a.evento_data)||b.set(a.evento_data,[]),b.get(a.evento_data).push(a)}),b},[a]),A=(0,j.useCallback)(a=>{let b=a.toISOString().split("T")[0];return y.get(b)||[]},[y]),B=(0,j.useMemo)(()=>{let a=new Date;return{date:a.getDate(),month:a.getMonth(),year:a.getFullYear()}},[]),H=(0,j.useCallback)(a=>a.getDate()===B.date&&a.getMonth()===B.month&&a.getFullYear()===B.year,[B]),I=(0,j.useCallback)(a=>{l(b=>{let c=new Date(b);return"prev"===a?c.setMonth(c.getMonth()-1):c.setMonth(c.getMonth()+1),c})},[]),J=(0,j.useCallback)(a=>{t(a),r(null),n(!0)},[]),K=(0,j.useCallback)((a,b)=>{b.stopPropagation(),r(a),t(null),n(!0)},[]),L=(0,j.useCallback)(()=>{r(null),t(new Date),n(!0)},[]),M=["Inscrição","Simulados","Aula de Revisão","Palestra","Day OFF","Redação"],N=e.filter(a=>M.includes(a.tag_nome)),O=e.filter(a=>!M.includes(a.tag_nome)),P=async(a,b)=>{b.stopPropagation(),confirm("Tem certeza que deseja apagar esta tag?")&&((await z(a.toString())).error?G.toast.error("Erro ao apagar tag"):(G.toast.success("Tag apagada com sucesso!"),window.location.reload()))},Q=async a=>{let b=a.get("evento_id");b?await E(b,a):(s&&a.set("data",s.toISOString().split("T")[0]),await D(a)),w.refresh()},R=async a=>{await F(a),w.refresh()};return(0,b.jsxs)("div",{className:"flex h-screen overflow-hidden bg-[rgba(1,176,255,1)]",children:[(0,b.jsx)(c.DashboardSidebar,{activePage:"Calendário"}),(0,b.jsx)("main",{className:"flex-1 p-4 overflow-hidden",children:(0,b.jsx)("div",{className:"h-full overflow-hidden",children:(0,b.jsxs)("div",{className:"rounded-3xl bg-background p-4 shadow-lg h-full flex flex-col lg:flex-row gap-4 overflow-hidden",children:[(0,b.jsxs)("div",{className:"hidden lg:block w-44 flex-shrink-0 overflow-y-auto",children:[(0,b.jsxs)(d.Button,{className:"w-full mb-4 bg-primary hover:bg-primary/90 text-white rounded-full text-xs py-2",onClick:L,children:[(0,b.jsx)(h.Plus,{className:"h-3.5 w-3.5 mr-2"}),"Criar Evento"]}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("h3",{className:"text-[10px] font-semibold text-muted-foreground mb-2",children:"TAGS PREDEFINIDAS"}),(0,b.jsx)("div",{className:"space-y-1.5",children:N.map(a=>(0,b.jsx)("div",{className:"px-2.5 py-1 rounded-full text-[10px] font-medium text-white",style:{backgroundColor:a.tag_cor},children:a.tag_nome},a.tag_id))})]}),O.length>0&&(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("h3",{className:"text-[10px] font-semibold text-muted-foreground mb-2",children:"MINHAS TAGS"}),(0,b.jsx)("div",{className:"space-y-1.5",children:O.map(a=>(0,b.jsxs)("div",{className:"flex items-center gap-1 group",children:[(0,b.jsx)("div",{className:"flex-1 px-2.5 py-1 rounded-full text-[10px] font-medium text-white",style:{backgroundColor:a.tag_cor},children:a.tag_nome}),(0,b.jsx)("button",{onClick:b=>P(a.tag_id,b),className:"opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-destructive/10 rounded","aria-label":"Apagar tag",children:(0,b.jsx)(i.Trash2,{className:"h-3 w-3 text-destructive"})})]},a.tag_id))})]}),(0,b.jsx)("div",{children:(0,b.jsxs)(d.Button,{variant:"ghost",size:"sm",className:"h-5 px-2 text-[10px]",onClick:()=>p(!0),children:[(0,b.jsx)(h.Plus,{className:"h-3 w-3 mr-1"}),"Nova Tag"]})})]}),(0,b.jsxs)("div",{className:"flex-1 flex flex-col min-w-0 min-h-0",children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-3 flex-shrink-0",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(d.Button,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>I("prev"),children:(0,b.jsx)(f,{className:"h-4 w-4"})}),(0,b.jsxs)("h2",{className:"text-base font-semibold text-foreground whitespace-nowrap",children:[["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"][k.getMonth()]," ",k.getFullYear()]}),(0,b.jsx)(d.Button,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>I("next"),children:(0,b.jsx)(g.ChevronRight,{className:"h-4 w-4"})})]})}),(0,b.jsx)("div",{className:"grid grid-cols-7 mb-1 flex-shrink-0",children:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"].map(a=>(0,b.jsx)("div",{className:"text-center text-[10px] font-semibold text-muted-foreground py-1 border-b border-border",children:a.slice(0,3)},a))}),(0,b.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,b.jsx)("div",{className:"grid grid-cols-7 h-full",style:{gridAutoRows:"1fr"},children:x.map((a,c)=>{let d=a.isCurrentMonth?A(a.fullDate):[],e=H(a.fullDate);return(0,b.jsxs)("div",{className:`p-1 border-r border-b border-border last:border-r-0 cursor-pointer overflow-hidden ${!a.isCurrentMonth?"bg-accent/10":e?"bg-primary/10 ring-2 ring-primary/30":"bg-background hover:bg-accent/5"} transition-colors`,onClick:()=>a.isCurrentMonth&&J(a.fullDate),children:[(0,b.jsx)("div",{className:`text-[10px] font-medium mb-0.5 ${!a.isCurrentMonth?"text-muted-foreground":e?"text-primary font-bold":"text-foreground"}`,children:a.date}),(0,b.jsxs)("div",{className:"space-y-0.5",children:[d.slice(0,2).map(a=>{let c=a.tags&&a.tags.length>0?a.tags[0]:null;return(0,b.jsx)("div",{className:"px-1 py-0.5 rounded text-[9px] font-medium truncate cursor-pointer hover:opacity-80",style:{backgroundColor:c?c.tag_cor:"#E5E7EB",color:"#FFFFFF"},title:a.evento_titulo,onClick:b=>K(a,b),children:a.evento_titulo},a.evento_id)}),d.length>2&&(0,b.jsxs)("div",{className:"text-[8px] text-muted-foreground",children:["+",d.length-2," mais"]})]})]},c)})})})]})]})})}),(0,b.jsx)(v,{event:q,open:m,onOpenChange:()=>n(!1),onSave:Q,onDelete:R,availableTags:e}),(0,b.jsx)(C,{isOpen:o,onClose:()=>p(!1)})]})}a.s(["CalendarView",()=>H],3232)}];

//# sourceMappingURL=app_agenda_calendario_calendar-view_tsx_352fb688._.js.map