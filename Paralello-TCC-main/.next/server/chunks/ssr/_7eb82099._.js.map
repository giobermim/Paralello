{"version":3,"sources":["turbopack:///[project]/app/actions/eventos.ts","turbopack:///[project]/app/agenda/perfil/actions.ts","turbopack:///[project]/app/agenda/notas/actions.ts","turbopack:///[project]/.next-internal/server/app/agenda/notas/page/actions.js (server actions loader)"],"sourcesContent":["\"use server\"\n\nimport { createServiceRoleClient } from \"@/utils/supabase/server\"\nimport { revalidatePath } from \"next/cache\"\nimport { cookies } from \"next/headers\"\n\nasync function getUserId() {\n  const cookieStore = await cookies()\n  const bypassUser = cookieStore.get(\"bypass_user\")\n\n  if (bypassUser) {\n    return null\n  } else {\n    const supabase = await createServiceRoleClient()\n    const {\n      data: { user },\n    } = await supabase.auth.getUser()\n    return user?.id || null\n  }\n}\n\nexport async function getEventos() {\n  const userId = await getUserId()\n  const supabase = await createServiceRoleClient()\n\n  let query = supabase.from(\"evento\").select(\"*\").order(\"evento_data\", { ascending: true })\n\n  if (userId === null) {\n    query = query.is(\"usuario_id\", null)\n  } else {\n    query = query.eq(\"usuario_id\", userId)\n  }\n\n  const [{ data: eventos, error: eventosError }, { data: allTags }] = await Promise.all([\n    query,\n    supabase.from(\"tag\").select(\"*\"),\n  ])\n\n  if (eventosError) return { error: eventosError.message }\n\n  const eventoIds = eventos?.map((e) => e.evento_id) || []\n\n  console.log(\"[v0] Eventos encontrados:\", eventoIds.length)\n\n  const { data: tagRelations, error: tagRelationsError } = await supabase\n    .from(\"tag_has_evento\")\n    .select(\"*\")\n    .in(\"evento_id\", eventoIds)\n\n  console.log(\"[v0] Tag relations encontradas:\", tagRelations?.length || 0, tagRelationsError?.message || \"\")\n\n  const tagRelationsMap = new Map<string, number[]>()\n  tagRelations?.forEach((rel) => {\n    const eventId = String(rel.evento_id)\n    if (!tagRelationsMap.has(eventId)) {\n      tagRelationsMap.set(eventId, [])\n    }\n    tagRelationsMap.get(eventId)!.push(rel.tag_id)\n  })\n\n  const tagsMap = new Map(allTags?.map((tag) => [tag.tag_id, tag]))\n\n  const eventosWithTags = (eventos || []).map((evento) => {\n    const tagIds = tagRelationsMap.get(String(evento.evento_id)) || []\n    const tags = tagIds.map((id) => tagsMap.get(id)).filter(Boolean)\n    console.log(\"[v0] Evento\", evento.evento_id, \"tags:\", tags.length)\n    return { ...evento, tags }\n  })\n\n  return { data: eventosWithTags }\n}\n\nexport async function createEvento(formData: FormData) {\n  const userId = await getUserId()\n  const supabase = await createServiceRoleClient()\n\n  const titulo = formData.get(\"titulo\") as string\n  const descricao = formData.get(\"descricao\") as string\n  const data = formData.get(\"data\") as string\n  const notificacao = formData.get(\"notificacao\") === \"true\"\n  const selectedTagIds = formData.get(\"tag_ids\") as string\n\n  const { data: eventoData, error } = await supabase\n    .from(\"evento\")\n    .insert({\n      evento_titulo: titulo,\n      evento_descricao: descricao,\n      evento_data: data,\n      evento_notificacao: notificacao,\n      usuario_id: userId,\n    })\n    .select()\n    .single()\n\n  if (error) return { error: error.message }\n\n  if (selectedTagIds) {\n    const tagIds = selectedTagIds.split(\",\").filter(Boolean)\n    const tagRelations = tagIds.map((tagId) => ({\n      evento_id: eventoData.evento_id,\n      tag_id: Number.parseInt(tagId),\n    }))\n\n    const { error: tagError } = await supabase.from(\"tag_has_evento\").insert(tagRelations)\n    if (tagError) console.error(\"Error adding tags:\", tagError)\n  }\n\n  revalidatePath(\"/agenda/calendario\")\n  return { success: true, data: eventoData }\n}\n\nexport async function updateEvento(id: string, formData: FormData) {\n  const userId = await getUserId()\n  const supabase = await createServiceRoleClient()\n\n  const titulo = formData.get(\"titulo\") as string\n  const descricao = formData.get(\"descricao\") as string\n  const data = formData.get(\"data\") as string\n  const notificacao = formData.get(\"notificacao\") === \"true\"\n  const selectedTagIds = formData.get(\"tag_ids\") as string\n\n  let query = supabase\n    .from(\"evento\")\n    .update({\n      evento_titulo: titulo,\n      evento_descricao: descricao,\n      evento_data: data,\n      evento_notificacao: notificacao,\n    })\n    .eq(\"evento_id\", id)\n\n  if (userId === null) {\n    query = query.is(\"usuario_id\", null)\n  } else {\n    query = query.eq(\"usuario_id\", userId)\n  }\n\n  const { error } = await query\n\n  if (error) return { error: error.message }\n\n  await supabase.from(\"tag_has_evento\").delete().eq(\"evento_id\", Number.parseInt(id))\n\n  if (selectedTagIds) {\n    const tagIds = selectedTagIds.split(\",\").filter(Boolean)\n    const tagRelations = tagIds.map((tagId) => ({\n      evento_id: Number.parseInt(id),\n      tag_id: Number.parseInt(tagId),\n    }))\n\n    await supabase.from(\"tag_has_evento\").insert(tagRelations)\n  }\n\n  revalidatePath(\"/agenda/calendario\")\n  return { success: true }\n}\n\nexport async function deleteEvento(id: string) {\n  const userId = await getUserId()\n  const supabase = await createServiceRoleClient()\n\n  await Promise.all([\n    supabase.from(\"tag_has_evento\").delete().eq(\"evento_id\", Number.parseInt(id)),\n    (async () => {\n      let query = supabase.from(\"evento\").delete().eq(\"evento_id\", id)\n      if (userId === null) {\n        query = query.is(\"usuario_id\", null)\n      } else {\n        query = query.eq(\"usuario_id\", userId)\n      }\n      return query\n    })(),\n  ])\n\n  revalidatePath(\"/agenda/calendario\")\n  return { success: true }\n}\n\nexport async function getTodayNotifications() {\n  const userId = await getUserId()\n  const supabase = await createServiceRoleClient()\n\n  const today = new Date().toISOString().split(\"T\")[0]\n\n  let query = supabase\n    .from(\"evento\")\n    .select(\"*\")\n    .eq(\"evento_data\", today)\n    .eq(\"evento_notificacao\", true)\n    .order(\"evento_titulo\", { ascending: true })\n\n  if (userId === null) {\n    query = query.is(\"usuario_id\", null)\n  } else {\n    query = query.eq(\"usuario_id\", userId)\n  }\n\n  const [{ data: eventos, error }, { data: allTags }] = await Promise.all([query, supabase.from(\"tag\").select(\"*\")])\n\n  if (error) return { error: error.message }\n\n  const eventoIds = eventos?.map((e) => e.evento_id) || []\n  const { data: tagRelations } = await supabase.from(\"tag_has_evento\").select(\"*\").in(\"evento_id\", eventoIds)\n\n  const tagRelationsMap = new Map<string, number[]>()\n  tagRelations?.forEach((rel) => {\n    const eventId = String(rel.evento_id)\n    if (!tagRelationsMap.has(eventId)) {\n      tagRelationsMap.set(eventId, [])\n    }\n    tagRelationsMap.get(eventId)!.push(rel.tag_id)\n  })\n\n  const tagsMap = new Map(allTags?.map((tag) => [tag.tag_id, tag]))\n\n  const notificationsWithTags = (eventos || []).map((evento) => {\n    const tagIds = tagRelationsMap.get(String(evento.evento_id)) || []\n    const tags = tagIds.map((id) => tagsMap.get(id)).filter(Boolean)\n    return { ...evento, tags }\n  })\n\n  return { data: notificationsWithTags }\n}\n","\"use server\"\n\nimport { createServerClient } from \"@/utils/supabase/server\"\nimport { cookies } from \"next/headers\"\n\nconst BYPASS_USER_ID = \"00000000-0000-0000-0000-000000000000\"\n\nasync function getUserId() {\n  const cookieStore = await cookies()\n  const bypassCookie = cookieStore.get(\"bypass_user\")\n\n  if (bypassCookie) {\n    return BYPASS_USER_ID\n  }\n\n  const supabase = await createServerClient()\n  const {\n    data: { user },\n  } = await supabase.auth.getUser()\n\n  return user?.id || null\n}\n\nexport async function getProfile() {\n  try {\n    const userId = await getUserId()\n\n    if (!userId) {\n      return { success: false, error: \"Usuário não autenticado\" }\n    }\n\n    const supabase = await createServerClient()\n\n    const { data, error } = await supabase.from(\"perfil_usuario\").select(\"*\").eq(\"usuario_id\", userId).maybeSingle()\n\n    if (error) {\n      console.error(\"Erro ao buscar perfil:\", error)\n      return { success: false, error: error.message }\n    }\n\n    return { success: true, data }\n  } catch (error) {\n    console.error(\"Erro ao buscar perfil:\", error)\n    return { success: false, error: \"Erro ao buscar perfil\" }\n  }\n}\n\nexport async function saveProfile(nome: string, foto: string | null) {\n  try {\n    const userId = await getUserId()\n\n    if (!userId) {\n      return { success: false, error: \"Usuário não autenticado\" }\n    }\n\n    const supabase = await createServerClient()\n\n    // Verificar se já existe um perfil\n    const { data: existingProfile } = await supabase\n      .from(\"perfil_usuario\")\n      .select(\"perfil_id\")\n      .eq(\"usuario_id\", userId)\n      .maybeSingle()\n\n    if (existingProfile) {\n      // Atualizar perfil existente\n      const { error } = await supabase\n        .from(\"perfil_usuario\")\n        .update({\n          perfil_nome: nome,\n          perfil_foto: foto,\n          updated_at: new Date().toISOString(),\n        })\n        .eq(\"usuario_id\", userId)\n\n      if (error) {\n        console.error(\"Erro ao atualizar perfil:\", error)\n        return { success: false, error: error.message }\n      }\n    } else {\n      // Inserir novo perfil\n      const { error } = await supabase.from(\"perfil_usuario\").insert({\n        usuario_id: userId,\n        perfil_nome: nome,\n        perfil_foto: foto,\n      })\n\n      if (error) {\n        console.error(\"Erro ao criar perfil:\", error)\n        return { success: false, error: error.message }\n      }\n    }\n\n    return { success: true }\n  } catch (error) {\n    console.error(\"Erro ao salvar perfil:\", error)\n    return { success: false, error: \"Erro ao salvar perfil\" }\n  }\n}\n","\"use server\"\n\nimport { createServerClient } from \"@/utils/supabase/server\"\nimport { revalidatePath } from \"next/cache\"\nimport { cookies } from \"next/headers\"\nimport { redirect } from \"next/navigation\"\n\nexport async function createNote(formData: FormData) {\n  const supabase = await createServerClient()\n\n  const cookieStore = await cookies()\n  const bypassUser = cookieStore.get(\"bypass_user\")\n\n  let userId: string\n\n  if (bypassUser) {\n    userId = \"00000000-0000-0000-0000-000000000000\"\n  } else {\n    const {\n      data: { user },\n    } = await supabase.auth.getUser()\n\n    if (!user) {\n      redirect(\"/login\")\n    }\n    userId = user.id\n  }\n\n  const titulo = formData.get(\"titulo\") as string\n  const descricao = formData.get(\"descricao\") as string\n  const texto = formData.get(\"texto\") as string\n  const publica = formData.get(\"publica\") === \"true\"\n  const disciplina_id = formData.get(\"disciplina_id\") as string | null\n\n  const { data, error } = await supabase\n    .from(\"anotacao\")\n    .insert({\n      usuario_id: userId,\n      anotacao_titulo: titulo || \"Sem título\",\n      anotacao_descricao: descricao || \"\",\n      anotacao_texto: texto || \"\",\n      anotacao_publica: publica,\n      anotacao_favoritar: false,\n      disciplina_id: disciplina_id ? Number.parseInt(disciplina_id) : null,\n    })\n    .select()\n\n  if (error) {\n    console.log(\"[v0] Note creation error:\", error.message, error.details, error.hint)\n    return { error: error.message }\n  }\n\n  console.log(\"[v0] Note created successfully:\", data)\n  revalidatePath(\"/agenda/notas\")\n  return { success: true, data }\n}\n\nexport async function updateNote(id: string, formData: FormData) {\n  const supabase = await createServerClient()\n\n  const titulo = formData.get(\"titulo\") as string\n  const descricao = formData.get(\"descricao\") as string\n  const texto = formData.get(\"texto\") as string\n  const publica = formData.get(\"publica\") === \"true\"\n  const disciplina_id = formData.get(\"disciplina_id\") as string | null\n\n  const { error } = await supabase\n    .from(\"anotacao\")\n    .update({\n      anotacao_titulo: titulo,\n      anotacao_descricao: descricao,\n      anotacao_texto: texto,\n      anotacao_publica: publica,\n      disciplina_id: disciplina_id ? Number.parseInt(disciplina_id) : null,\n    })\n    .eq(\"anotacao_id\", id)\n\n  if (error) {\n    return { error: error.message }\n  }\n\n  revalidatePath(\"/agenda/notas\")\n  return { success: true }\n}\n\nexport async function deleteNote(id: string) {\n  const supabase = await createServerClient()\n\n  const { error } = await supabase.from(\"anotacao\").delete().eq(\"anotacao_id\", id)\n\n  if (error) {\n    return { error: error.message }\n  }\n\n  revalidatePath(\"/agenda/notas\")\n  return { success: true }\n}\n\nexport async function toggleFavorite(id: string, favoritar: boolean) {\n  const supabase = await createServerClient()\n\n  const { error } = await supabase.from(\"anotacao\").update({ anotacao_favoritar: favoritar }).eq(\"anotacao_id\", id)\n\n  if (error) {\n    return { error: error.message }\n  }\n\n  revalidatePath(\"/agenda/notas\")\n  return { success: true }\n}\n","export {createNote as '40f5d239e041f3289cd02652cc7af3c5810601d380'} from 'ACTIONS_MODULE0'\nexport {updateNote as '60d262038cf17a0ed95ef14d68cfa75f2d054cbab6'} from 'ACTIONS_MODULE0'\nexport {deleteNote as '40e7053005016844e327abacfcbaff9f8381dba895'} from 'ACTIONS_MODULE0'\nexport {toggleFavorite as '60ea940d6ae925c904ebe486b0f31d8bc20a3897c8'} from 'ACTIONS_MODULE0'\nexport {signout as '00a5c73d01448a448cafbf314f2103bda7312fd5f7'} from 'ACTIONS_MODULE1'\nexport {getProfile as '001eee0ea2e32480cb65d838a8d69f2bc0ee4cb26f'} from 'ACTIONS_MODULE2'\nexport {saveProfile as '605ad3937fcec750aa54a721f03bd83763ab184165'} from 'ACTIONS_MODULE2'\nexport {getTodayNotifications as '004848681f943a2fa6a735a7603fa78aeb2eff524a'} from 'ACTIONS_MODULE3'\n"],"names":[],"mappings":"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"}